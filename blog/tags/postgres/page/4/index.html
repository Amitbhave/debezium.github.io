<!DOCTYPE html> <html lang="en"> <head> <title>Debezium Blog</title> <meta charset="utf-8"> <meta content="width=device-width, initial-scale=1.0" name="viewport"> <meta content="" name="description"> <meta content="" name="author"> <link href="https://static.jboss.org/theme/css/bootstrap-community/3.2.0.2/bootstrap-community.min.css" media="screen" rel="stylesheet"> <!--[if lt IE 9]><script src="https://static.jboss.org/theme/js/libs/html5/pre3.6/html5.min.js"></script><![endif]--> <link href="https://static.jboss.org/example/images/favicon.ico" rel="shortcut icon"> <link href="https://static.jboss.org/example/images/apple-touch-icon-144x144-precomposed.png" rel="apple-touch-icon-precomposed" sizes="144x144"> <link href="https://static.jboss.org/example/images/apple-touch-icon-114x114-precomposed.png" rel="apple-touch-icon-precomposed" sizes="114x114"> <link href="https://static.jboss.org/example/images/apple-touch-icon-72x72-precomposed.png" rel="apple-touch-icon-precomposed" sizes="72x72"> <link href="https://static.jboss.org/example/images/apple-touch-icon-precomposed.png" rel="apple-touch-icon-precomposed"> <link href="/stylesheets/debezium.css" rel="stylesheet" type="text/css"> <style>
      @media (min-width: 980px) {
        .banner { background-image: url(https://static.jboss.org/example/images/debezium-banner-1180px.png); height: 110px;  }
      }
      @media (max-width: 979px) {
        .banner { background-image: url(https://static.jboss.org/example/images/debezium-logo.png); background-repeat:no-repeat; background-position: center bottom; height: 60px; }
      }
      @media (max-width: 650px) {
        .banner { width: 100%; margin: 0px auto; }
      }
      @media (max-width: 450px) {
        .banner { height: 90px; }
      }
    </style> <link href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/default.min.css" rel="stylesheet"> <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script> <script>
      hljs.initHighlightingOnLoad();
    </script> <script src="https://static.jboss.org/theme/js/libs/jquery/jquery-1.9.1.min.js"></script> <style>
      /* adjusting the vertical spacing for when a stickynav is engaged */
      .breadcrumb-fixed > .active {
        color: #8c8f91;
      }
      .breadcrumb-fixed {
        margin: 70px 0 10px;
        padding: 8px 15px;
        margin-bottom: 20px;
        list-style: none;
        background-color: #f5f5f5;
        border-radius: 4px;
      }
      
      .breadcrumb-fixed > li {
        display: inline-block;
      }
    </style> </head> <body> <div id="rhbar"> <a class="jbdevlogo" href="https://www.jboss.org/projects/about"></a> <a class="rhlogo" href="https://www.redhat.com/"></a> </div> <div id=""> <ul class="visuallyhidden" id="top"> <li> <a accesskey="n" href="#nav" title="Skip to navigation">Skip to navigation</a> </li> <li> <a accesskey="c" href="#page" title="Skip to content">Skip to content</a> </li> </ul> <div class="container" id="content"> <div class="navbar navbar-inverse navbar-fix"> <div class="container-fluid"> <div class="navbar-header"> <button class="navbar-toggle collapsed" data-target="#navbar-1" data-toggle="collapse"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="/"> Debezium </a> </div> <div class="collapse navbar-collapse" id="navbar-1"> <ul class="nav navbar-nav pull-right"> <li class=""><a href="/docs/faq/">FAQ</a></li> <li class=""><a href="/docs/">DOCS</a></li> <li class=""><a href="/community/">COMMUNITY</a></li> <li class="active"><a href="/blog/">BLOG</a></li> </ul> </div> </div> </div> <div id="equalHeightsLayout"> <div class="row post-text-padding row-no-expand"> <div class="hidden-xs col-sm-3 no-right-padding" id="leftdocnav"> <div class="panel-docnav"> <div class="panel-heading"> <h3 class="panel-title"> Latest posts </h3> </div> <div class="panel-body"> <ul class="list-group"> <li class="list-group-item"> <a href="/blog/2019/02/05/debezium-0-9-0-final-released/" rel="tooltip" title="Click to go to post">Debezium 0.9.0.Final Released</a> </li> <li class="list-group-item"> <a href="/blog/2019/01/28/debezium-0-9-0-cr1-released/" rel="tooltip" title="Click to go to post">Debezium 0.9.0.CR1 Released</a> </li> <li class="list-group-item"> <a href="/blog/2018/12/19/debezium-0-9-0-beta2-released/" rel="tooltip" title="Click to go to post">Debezium 0.9.0.Beta2 Released</a> </li> <li class="list-group-item"> <a href="/blog/2018/12/05/automating-cache-invalidation-with-change-data-capture/" rel="tooltip" title="Click to go to post">Automating Cache Invalidation With Change Data Capture</a> </li> <li class="list-group-item"> <a href="/blog/2018/11/22/debezium-0-9-0-beta1-released/" rel="tooltip" title="Click to go to post">Debezium 0.9.0.Beta1 Released</a> </li> <li class="list-group-item"> <a href="/blog/2018/10/04/debezium-0-9-0-alpha2-released/" rel="tooltip" title="Click to go to post">Debezium 0.9.0.Alpha2 Released</a> </li> <li class="list-group-item"> <a href="/blog/2018/09/20/materializing-aggregate-views-with-hibernate-and-debezium/" rel="tooltip" title="Click to go to post">Materializing Aggregate Views With Hibernate and Debezium</a> </li> <li class="list-group-item"> <a href="/blog/2018/09/19/debezium-0-8-3-final-released/" rel="tooltip" title="Click to go to post">Debezium 0.8.3.Final Released</a> </li> </ul> </div> </div> </div> <div class="col-xs-12 col-sm-9" id="maincol"> <div class="text-right"> <h3> Subscribe <a class="rss" href="/blog.atom"> <i class="icon-rss"></i> </a> </h3> </div> <hr> <div class="post"> <h1 class="title"> <a href="/blog/2018/01/17/streaming-to-elasticsearch/">Streaming Data Changes from Your Database to Elasticsearch</a> </h1> <div class="byline"> <p> <em> January 17, 2018 by Jiri Pechanec </em> <em> under&nbsp; </em> <a class="label label-info" href="/blog/tags/mysql/">mysql</a> <a class="label label-info" href="/blog/tags/postgres/">postgres</a> <a class="label label-info" href="/blog/tags/elasticsearch/">elasticsearch</a> <a class="label label-info" href="/blog/tags/smt/">smt</a> <a class="label label-info" href="/blog/tags/example/">example</a> </p> </div> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>We wish all the best to the Debezium community for 2018!</p> </div> <div class="paragraph"> <p>While we&#8217;re working on the 0.7.2 release, we thought we&#8217;d publish another post describing an end-to-end data streaming use case based on Debezium. We have seen how to set up a change data stream to a downstream database <a href="/blog/2017/09/25/streaming-to-another-database/">a few weeks ago</a>. In this blog post we will follow the same approach to stream the data to an <a href="https://www.elastic.co/">Elasticsearch</a> server to leverage its excellent capabilities for full-text search on our data. But to make the matter a little bit more interesting, we will stream the data to both, a PostgreSQL database and Elasticsearch, so we will optimize access to the data via the SQL query language as well as via full-text search.</p> </div> </div> </div> <div class="sect1"> <h2 id="topology"><a class="anchor" href="#topology"></a>Topology</h2> <div class="sectionbody"> <div class="paragraph"> <p>Here&#8217;s a diagram that shows how the data is flowing through our distributed system. First, the Debezium MySQL connector is continuously capturing the changes from the MySQL database, and sending the changes for each table to separate Kafka topics. Then, the Confluent <a href="https://docs.confluent.io/current/connect/connect-jdbc/docs/sink_connector.html">JDBC sink connector</a> is continuously reading those topics and writing the events into the PostgreSQL database. And, at the same time, the Confluent <a href="https://github.com/confluentinc/kafka-connect-elasticsearch">Elasticsearch connector</a> is continuously reading those same topics and writing the events into Elasticsearch.</p> </div> <div class="paragraph"> <p>&nbsp;<br></p> </div> <div id="img-general" class="imageblock"> <div class="content"> <img src="/images/dbz-to-multiple.svg" alt="Scenario topology"> </div> <div class="title">Figure 1: A general topology</div> </div> <div class="paragraph"> <p>&nbsp;<br></p> </div> <div class="paragraph"> <p>We are going to deploy these components into several different processes. In this example, we&#8217;ll deploy all three connectors to a single Kafka Connect instance that will write to and read from Kafka on behalf of all of the connectors (in production you might need to keep the connectors separated to achieve better performance).</p> </div> <div class="paragraph"> <p>&nbsp;<br></p> </div> <div id="img-general" class="imageblock"> <div class="content"> <img src="/images/dbz-to-multiple-simplified.svg" alt="Scenario topology"> </div> <div class="title">Figure 2: A simplified topology</div> </div> </div> </div> <div class="sect1"> <h2 id="configuration"><a class="anchor" href="#configuration"></a>Configuration</h2> <div class="sectionbody"> <div class="paragraph"> <p>We will use this <a href="https://github.com/debezium/debezium-examples/tree/master/unwrap-smt">Docker Compose file</a> for a fast deployment of the demo. The deployment consists of the following Docker images:</p> </div> <div class="ulist"> <ul> <li> <p><a href="https://hub.docker.com/r/debezium/zookeeper/">Apache ZooKeeper</a></p> </li> <li> <p><a href="https://hub.docker.com/r/debezium/kafka/">Apache Kafka</a></p> </li> <li> <p>An <a href="https://github.com/debezium/debezium-examples/tree/master/unwrap-smt/debezium-jdbc">enriched</a> Kafka Connect / Debezium <a href="https://hub.docker.com/r/debezium/connect/">image</a> with a few changes:</p> <div class="ulist"> <ul> <li> <p>PostgreSQL JDBC driver placed into <em>/kafka/libs</em> directory</p> </li> <li> <p>The Confluent JDBC connector placed into <em>/kafka/connect/kafka-connect-jdbc</em> directory</p> </li> </ul> </div> </li> <li> <p>Pre-populated MySQL as used in our <a href="/docs/tutorial/">tutorial</a></p> </li> <li> <p>Empty PostgreSQL</p> </li> <li> <p>Empty Elasticsearch</p> </li> </ul> </div> <div class="paragraph"> <p>The message format is not the same for the Debezium source connector and the JDBC and Elasticsearch connectors as they are developed separately and each focuses on slightly different objectives. Debezium emits a more complex event structure so that it captures all of the information available. In particular, the change events contain the old and the new state of a changed record. Both sink connectors on the other hand expect a simple message that just represents the record state to be written.</p> </div> <div class="paragraph"> <p>Debezium&#8217;s <a href="/docs/configuration/event-flattening/">UnwrapFromEnvelope</a> single message transformation (SMT) collapses the complex change event structure into the same row-based format expected by the two sink connectors and effectively acts as a <a href="http://www.enterpriseintegrationpatterns.com/patterns/messaging/MessageTranslator.html">message translator</a> between the two aforementioned formats.</p> </div> </div> </div> <div class="sect1"> <h2 id="example"><a class="anchor" href="#example"></a>Example</h2> <div class="sectionbody"> <div class="paragraph"> <p>Let&#8217;s move directly to our example as that&#8217;s where the changes are visible. First of all we need to deploy all components:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlight"><code class="language-bash" data-lang="bash">export DEBEZIUM_VERSION=0.7&#x000A;docker-compose up</code></pre> </div> </div> <div class="paragraph"> <p>When all components are started we are going to register the Elasticsearch Sink connector writing into the Elasticsearch instance. We want to use the same key (primary id) in the source and both PostgreSQL and Elasticsearch:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlight"><code class="language-bash" data-lang="bash">curl -i -X POST -H "Accept:application/json" \&#x000A;    -H  "Content-Type:application/json" http://localhost:8083/connectors/ \&#x000A;    -d @es-sink.json</code></pre> </div> </div> <div class="paragraph"> <p>We&#8217;re using this registration request:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlight"><code class="language-json" data-lang="json">{&#x000A;  {&#x000A;    "name": "elastic-sink",&#x000A;    "config": {&#x000A;      "connector.class":&#x000A;          "io.confluent.connect.elasticsearch.ElasticsearchSinkConnector",&#x000A;      "tasks.max": "1",&#x000A;      "topics": "customers",&#x000A;      "connection.url": "http://elastic:9200",&#x000A;      "transforms": "unwrap,key",&#x000A;      "transforms.unwrap.type": "io.debezium.transforms.UnwrapFromEnvelope",        (1)&#x000A;      "transforms.key.type": "org.apache.kafka.connect.transforms.ExtractField$Key",(2)&#x000A;      "transforms.key.field": "id",                                                 (2)&#x000A;      "key.ignore": "false",                                                        (3)&#x000A;      "type.name": "customer"                                                       (4)&#x000A;    }&#x000A;  }&#x000A;}</code></pre> </div> </div> <div class="paragraph"> <p>The request configures these options:</p> </div> <div class="olist arabic"> <ol class="arabic"> <li> <p>extracting only the new row&#8217;s state from Debezium&#8217;s change data message</p> </li> <li> <p>extracting the <code>id</code> field from the key <code>struct</code>, then the same key is used for the source and both destinations. This is to address the fact that the Elasticsearch connector only supports numeric types and <code>string</code> as keys. If we do not extract the <code>id</code> the messages will be filtered out by the connector because of unknown key type.</p> </li> <li> <p>use key from the event instead of generating a synthetic one</p> </li> <li> <p>type under which the events will be registered in Elasticsearch</p> </li> </ol> </div> <div class="paragraph"> <p>Next we are going to register the JDBC Sink connector writing into PostgreSQL database:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlight"><code class="language-bash" data-lang="bash">curl -i -X POST -H "Accept:application/json" \&#x000A;    -H  "Content-Type:application/json" http://localhost:8083/connectors/ \&#x000A;    -d @jdbc-sink.json</code></pre> </div> </div> <div class="paragraph"> <p>Finally, the source connector must be set up:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlight"><code class="language-bash" data-lang="bash">curl -i -X POST -H "Accept:application/json" \&#x000A;    -H  "Content-Type:application/json" http://localhost:8083/connectors/ \&#x000A;    -d @source.json</code></pre> </div> </div> <div class="paragraph"> <p>Let&#8217;s check if the databases and the search server are synchronized. All the rows of the <code>customers</code> table should be found in the source database (MySQL) as well as the target database (Postgres) and Elasticsearch:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlight"><code class="language-bash" data-lang="bash">docker-compose exec mysql bash -c 'mysql -u $MYSQL_USER  -p$MYSQL_PASSWORD inventory -e "select * from customers"'&#x000A;+------+------------+-----------+-----------------------+&#x000A;| id   | first_name | last_name | email                 |&#x000A;+------+------------+-----------+-----------------------+&#x000A;| 1001 | Sally      | Thomas    | sally.thomas@acme.com |&#x000A;| 1002 | George     | Bailey    | gbailey@foobar.com    |&#x000A;| 1003 | Edward     | Walker    | ed@walker.com         |&#x000A;| 1004 | Anne       | Kretchmar | annek@noanswer.org    |&#x000A;+------+------------+-----------+-----------------------+</code></pre> </div> </div> <div class="listingblock"> <div class="content"> <pre class="highlight"><code class="language-bash" data-lang="bash">docker-compose exec postgres bash -c 'psql -U $POSTGRES_USER $POSTGRES_DB -c "select * from customers"'&#x000A; last_name |  id  | first_name |         email&#x000A;-----------+------+------------+-----------------------&#x000A; Thomas    | 1001 | Sally      | sally.thomas@acme.com&#x000A; Bailey    | 1002 | George     | gbailey@foobar.com&#x000A; Walker    | 1003 | Edward     | ed@walker.com&#x000A; Kretchmar | 1004 | Anne       | annek@noanswer.org</code></pre> </div> </div> <div class="listingblock"> <div class="content"> <pre class="highlight"><code class="language-bash" data-lang="bash">curl 'http://localhost:9200/customers/_search?pretty'&#x000A;{&#x000A;  "took" : 42,&#x000A;  "timed_out" : false,&#x000A;  "_shards" : {&#x000A;    "total" : 5,&#x000A;    "successful" : 5,&#x000A;    "failed" : 0&#x000A;  },&#x000A;  "hits" : {&#x000A;    "total" : 4,&#x000A;    "max_score" : 1.0,&#x000A;    "hits" : [&#x000A;      {&#x000A;        "_index" : "customers",&#x000A;        "_type" : "customer",&#x000A;        "_id" : "1001",&#x000A;        "_score" : 1.0,&#x000A;        "_source" : {&#x000A;          "id" : 1001,&#x000A;          "first_name" : "Sally",&#x000A;          "last_name" : "Thomas",&#x000A;          "email" : "sally.thomas@acme.com"&#x000A;        }&#x000A;      },&#x000A;      {&#x000A;        "_index" : "customers",&#x000A;        "_type" : "customer",&#x000A;        "_id" : "1004",&#x000A;        "_score" : 1.0,&#x000A;        "_source" : {&#x000A;          "id" : 1004,&#x000A;          "first_name" : "Anne",&#x000A;          "last_name" : "Kretchmar",&#x000A;          "email" : "annek@noanswer.org"&#x000A;        }&#x000A;      },&#x000A;      {&#x000A;        "_index" : "customers",&#x000A;        "_type" : "customer",&#x000A;        "_id" : "1002",&#x000A;        "_score" : 1.0,&#x000A;        "_source" : {&#x000A;          "id" : 1002,&#x000A;          "first_name" : "George",&#x000A;          "last_name" : "Bailey",&#x000A;          "email" : "gbailey@foobar.com"&#x000A;        }&#x000A;      },&#x000A;      {&#x000A;        "_index" : "customers",&#x000A;        "_type" : "customer",&#x000A;        "_id" : "1003",&#x000A;        "_score" : 1.0,&#x000A;        "_source" : {&#x000A;          "id" : 1003,&#x000A;          "first_name" : "Edward",&#x000A;          "last_name" : "Walker",&#x000A;          "email" : "ed@walker.com"&#x000A;        }&#x000A;      }&#x000A;    ]&#x000A;  }&#x000A;}</code></pre> </div> </div> <div class="paragraph"> <p>With the connectors still running, we can add a new row to the MySQL database and then check that it was replicated into both the PostgreSQL database and Elasticsearch:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlight"><code class="language-bash" data-lang="bash">docker-compose exec mysql bash -c 'mysql -u $MYSQL_USER  -p$MYSQL_PASSWORD inventory'&#x000A;&#x000A;mysql&gt; insert into customers values(default, 'John', 'Doe', 'john.doe@example.com');&#x000A;Query OK, 1 row affected (0.02 sec)</code></pre> </div> </div> <div class="listingblock"> <div class="content"> <pre class="highlight"><code class="language-bash" data-lang="bash">docker-compose exec -postgres bash -c 'psql -U $POSTGRES_USER $POSTGRES_DB -c "select * from customers"'&#x000A; last_name |  id  | first_name |         email&#x000A;-----------+------+------------+-----------------------&#x000A;...&#x000A;Doe        | 1005 | John       | john.doe@example.com&#x000A;(5 rows)</code></pre> </div> </div> <div class="listingblock"> <div class="content"> <pre class="highlight"><code class="language-bash" data-lang="bash">curl 'http://localhost:9200/customers/_search?pretty'&#x000A;...&#x000A;{&#x000A;  "_index" : "customers",&#x000A;  "_type" : "customer",&#x000A;  "_id" : "1005",&#x000A;  "_score" : 1.0,&#x000A;  "_source" : {&#x000A;    "id" : 1005,&#x000A;    "first_name" : "John",&#x000A;    "last_name" : "Doe",&#x000A;    "email" : "john.doe@example.com"&#x000A;  }&#x000A;}&#x000A;...</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="summary"><a class="anchor" href="#summary"></a>Summary</h2> <div class="sectionbody"> <div class="paragraph"> <p>We set up a complex streaming data pipeline to synchronize a MySQL database with another database and also with an Elasticsearch instance. We managed to keep the same identifier across all systems which allows us to correlate records across the system as a whole.</p> </div> <div class="paragraph"> <p>Propagating data changes from a primary database in near realtime to a search engine such as Elasticsearch enables many interesting use cases. Besides different applications of fulltext search one could for instance also think about creating dashboards and all kinds of visualizations using <a href="https://www.elastic.co/de/products/kibana">Kibana</a>, to gain further insight into the data.</p> </div> <div class="paragraph"> <p>If you&#8217;d like to try out this set-up yourself, just clone the project from our <a href="https://github.com/debezium/debezium-examples/tree/master/unwrap-smt">examples repo</a>. In case you need help, have feature requests or would like to share your experiences with this pipeline, please let us know in the comments below.</p> </div> </div> </div> <div class="sect1"> <h2 id="about_debezium"><a class="anchor" href="#about_debezium"></a>About Debezium</h2> <div class="sectionbody"> <div class="paragraph"> <p>Debezium is an open source distributed platform that turns your existing databases into event streams, so applications can see and respond almost instantly to each committed row-level change in the databases. Debezium is built on top of <a href="http://kafka.apache.org/">Kafka</a> and provides <a href="http://kafka.apache.org/documentation.html#connect">Kafka Connect</a> compatible connectors that monitor specific database management systems. Debezium records the history of data changes in Kafka logs, so your application can be stopped and restarted at any time and can easily consume all of the events it missed while it was not running, ensuring that all events are processed correctly and completely. Debezium is <a href="/license/">open source</a> under the <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, Version 2.0</a>.</p> </div> </div> </div> <div class="sect1"> <h2 id="get_involved"><a class="anchor" href="#get_involved"></a>Get involved</h2> <div class="sectionbody"> <div class="paragraph"> <p>We hope you find Debezium interesting and useful, and want to give it a try. Follow us on Twitter <a href="https://twitter.com/debezium">@debezium</a>, <a href="https://gitter.im/debezium/user">chat with us on Gitter</a>, or join our <a href="https://groups.google.com/forum/#!forum/debezium">mailing list</a> to talk with the community. All of the code is open source <a href="https://github.com/debezium/">on GitHub</a>, so build the code locally and help us improve ours existing connectors and add even more connectors. If you find problems or have ideas how we can improve Debezium, please let us know or <a href="https://issues.jboss.org/projects/DBZ/issues/">log an issue</a>.</p> </div> </div> </div> </div> <hr> <div class="post"> <h1 class="title"> <a href="/blog/2017/12/20/debezium-0-7-1-released/">Debezium 0.7.1 Is Released</a> </h1> <div class="byline"> <p> <em> December 20, 2017 by Jiri Pechanec </em> <em> under&nbsp; </em> <a class="label label-info" href="/blog/tags/releases/">releases</a> <a class="label label-info" href="/blog/tags/mysql/">mysql</a> <a class="label label-info" href="/blog/tags/mongodb/">mongodb</a> <a class="label label-info" href="/blog/tags/postgres/">postgres</a> <a class="label label-info" href="/blog/tags/docker/">docker</a> </p> </div> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>Just last few days before Christmas we are releasing Debezium <strong>0.7.1</strong>! This is a bugfix release that fixes few annoying issues that were found during first rounds of use of Debezium 0.7 by our community. All issues relate to either newly provided wal2json support or reduced risk of internal race condition improvement.</p> </div> <div class="paragraph"> <p><a href="https://github.com/rcoup">Robert Coup</a> has found a <a href="https://issues.jboss.org/browse/DBZ-512">performance regression</a> in situations when 0.7.0 was used with old version of Protobuf decoder.</p> </div> <div class="paragraph"> <p>Suraj Savita (and others) has found an issue when our code failed to <a href="https://issues.jboss.org/browse/DBZ-513">correctly detect</a> it runs with Amazon RDS wal2json plug-in. We are outsmarted by the JDBC driver internals and included a distinct plugin decoder name <a href="https://issues.jboss.org/browse/DBZ-517">wal2json_rds</a> that bypasses detection routine and by default expects it runs against Amazon RDS instance. This mode should be used only with RDS instances.</p> </div> <div class="paragraph"> <p>We have also gathered feedback from first tries to run with Amazon RDS and included <a href="/docs/connectors/postgresql/#amazon-rds">a short section</a> in our documentation on this topic.</p> </div> </div> </div> <div class="sect1"> <h2 id="about_debezium"><a class="anchor" href="#about_debezium"></a>About Debezium</h2> <div class="sectionbody"> <div class="paragraph"> <p>Debezium is an open source distributed platform that turns your existing databases into event streams, so applications can see and respond almost instantly to each committed row-level change in the databases. Debezium is built on top of <a href="http://kafka.apache.org/">Kafka</a> and provides <a href="http://kafka.apache.org/documentation.html#connect">Kafka Connect</a> compatible connectors that monitor specific database management systems. Debezium records the history of data changes in Kafka logs, so your application can be stopped and restarted at any time and can easily consume all of the events it missed while it was not running, ensuring that all events are processed correctly and completely. Debezium is <a href="/license/">open source</a> under the <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, Version 2.0</a>.</p> </div> </div> </div> <div class="sect1"> <h2 id="get_involved"><a class="anchor" href="#get_involved"></a>Get involved</h2> <div class="sectionbody"> <div class="paragraph"> <p>We hope you find Debezium interesting and useful, and want to give it a try. Follow us on Twitter <a href="https://twitter.com/debezium">@debezium</a>, <a href="https://gitter.im/debezium/user">chat with us on Gitter</a>, or join our <a href="https://groups.google.com/forum/#!forum/debezium">mailing list</a> to talk with the community. All of the code is open source <a href="https://github.com/debezium/">on GitHub</a>, so build the code locally and help us improve ours existing connectors and add even more connectors. If you find problems or have ideas how we can improve Debezium, please let us know or <a href="https://issues.jboss.org/projects/DBZ/issues/">log an issue</a>.</p> </div> </div> </div> </div> <hr> <div class="post"> <h1 class="title"> <a href="/blog/2017/12/15/debezium-0-7-0-released/">Debezium 0.7.0 Is Released</a> </h1> <div class="byline"> <p> <em> December 15, 2017 by Jiri Pechanec </em> <em> under&nbsp; </em> <a class="label label-info" href="/blog/tags/releases/">releases</a> <a class="label label-info" href="/blog/tags/mysql/">mysql</a> <a class="label label-info" href="/blog/tags/mongodb/">mongodb</a> <a class="label label-info" href="/blog/tags/postgres/">postgres</a> <a class="label label-info" href="/blog/tags/docker/">docker</a> </p> </div> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>It&#8217;s not Christmas yet, but we already got a present for you: Debezium <strong>0.7.0</strong> is here, full of new features as well as many bug fixes! A big thank you goes out to all the community members who contributed to this release. It is very encouraging for us to see not only more and more issues and feature requests being reported, but also pull requests coming in.</p> </div> <div class="paragraph"> <p>Note that this release comes with a small number of changes to the default mappings for some data types. We try to avoid this sort of changes as far as possible, but in some cases it is required, e.g. if the previous mapping could have caused potential value losses. Please see below for the details and also make sure to check out the <a href="/docs/releases/#release-0-7-0">full change log</a> which describes these changes in detail.</p> </div> <div class="paragraph"> <p>Now let&#8217;s take a closer look at some of new features.</p> </div> </div> </div> <div class="sect1"> <h2 id="based_on_apache_kafka_1_0"><a class="anchor" href="#based_on_apache_kafka_1_0"></a>Based on Apache Kafka 1.0</h2> <div class="sectionbody"> <div class="paragraph"> <p>A few weeks ago the Apache Kafka team has <a href="https://www.confluent.io/blog/apache-kafka-goes-1-0/">released version 1.0.0</a>. This was an important milestone for the Kafka community, and we now can happily declare that Debezium is <a href="https://issues.jboss.org/browse/DBZ-432">built</a> against and runs on that Apache Kafka version. Our Docker images were also <a href="https://issues.jboss.org/browse/DBZ-433">promoted</a> to contain Apache Kafka and Kafka Connect 1.0.0.</p> </div> </div> </div> <div class="sect1"> <h2 id="postgresql_connector"><a class="anchor" href="#postgresql_connector"></a>PostgreSQL Connector</h2> <div class="sectionbody"> <div class="paragraph"> <p>The big news for the PostgreSQL connector is that it now <a href="https://issues.jboss.org/browse/DBZ-258">supports</a> the <a href="https://github.com/eulerto/wal2json">wal2json</a> logical decoding plugin as an alternative to the existing <a href="https://github.com/debezium/postgres-decoderbufs">DecoderBufs plug-in</a>. This means that you now can use Debezium to stream changes out of PostgreSQL on <a href="https://aws.amazon.com/rds/postgresql/">Amazon RDS</a>, as wal2json is the logical decoding plugin used in this environment. Many thanks to <a href="https://github.com/rcoup">Robert Coup</a> who significantly contributed to this feature.</p> </div> <div class="paragraph"> <p>Working on this plug-in, we noticed that there was a <a href="https://issues.jboss.org/browse/DBZ-379">potential race condition</a> when it comes to applying changes to the schema of captured tables. In that case it could have happened that a number of messages pertaining to data changes done before the schema change were emitted using the new schema. With the exception of a few corner cases (which are described <a href="/docs/releases/#release-0-7-0">here</a>), this has been addressed when using Debezium&#8217;s own DecoderBufs plug-in. So it&#8217;s highly recommended to upgrade the DecoderBufs plug-in to the new version before upgrading the Debezium connector. We&#8217;ve also worked closely with the author of the wal2json plug-in (big thanks for the quick help!) to prevent the issue when using the wal2json plug-in.</p> </div> <div class="paragraph"> <p>While the Debezium Docker images for Postgres already come with the latest version of DecoderBufs and wal2json, RDS for now is still using an older version of wal2json. Until this has been updated, special attention must be paid when applying schema changes to captured tables. Please see <a href="/docs/releases/#release-0-7-0">the changelog</a> for a in-depth description of this issue and ways to mitigate it.</p> </div> <div class="paragraph"> <p>There are new daily running <a href="https://issues.jboss.org/browse/DBZ-495">CI jobs</a> that verify that the wal2json plugin passes our test suite. For the foreseeable future we&#8217;ll support both, wal2json as well as the existing DecoderBufs plug-in. The latter should be more efficient due to the usage of the Protocol Buffers binary format, whereas the former comes in handy for RDS or other cloud environments where you don&#8217;t have control over the installed logical decoding plug-ins, but wal2json is available.</p> </div> <div class="paragraph"> <p>In other news on the Postgres connector, <a href="https://github.com/jchipmunk">Andrey Pustovetov</a> discovered and proposed a fix for a <a href="https://issues.jboss.org/browse/DBZ-501">multi-threading bug</a> that could have put the connector into an undefined state if a rebalance in the Connect cluster was triggered during snapshotting. Thanks, Andrey!</p> </div> </div> </div> <div class="sect1"> <h2 id="mysql_connector"><a class="anchor" href="#mysql_connector"></a>MySQL Connector</h2> <div class="sectionbody"> <div class="paragraph"> <p>In the MySQL connector we&#8217;ve fixed two issues which affect the default mapping of certain column types.</p> </div> <div class="paragraph"> <p>Following up to the new <code>BIGINT UNSIGNED</code> mapping introduced in <a href="/blog/2017/10/26/debezium-0-6-1-released/">Debezium 0.6.1</a>, this type is now encoded as <code>int64</code> in Debezium messages <a href="https://issues.jboss.org/browse/DBZ-461">by default</a> as it is easier for (polyglot) clients to work with. This is a reasonable mapping for the vast majority of cases. Only when using values &gt; 2^63, you should switch it back to the <code>Decimal</code> logical type which is a bit more cumbersome to handle, though. This should be a rare situation, as MySQL <a href="https://dev.mysql.com/doc/refman/5.7/en/numeric-type-overview.html">advices against</a> using unsigned values &gt; 2^63 due to potential value losses when performing DB-side calculations. Please see the <a href="/docs/connectors/mysql/">connector documentation</a> for the details.</p> </div> <div class="paragraph"> <p><a href="https://github.com/rk3rn3r">Rene Kerner</a> has improved the support for the MySQL <code>TIME</code> type. MySQL allows to store values larger than <code>23:59:59</code> in such columns, and the type <code>int32</code> which was previously used for <code>TIME(0-3)</code> columns isn&#8217;t enough to convey the entire possible value range. Therefore all <code>TIME</code> columns in MySQL are by default represented as <code>int64</code> now, using the <code>io.debezium.time.MicroTime</code> logical type, i.e. the value represents micro-seconds. If needed, you can switch to the previous mapping by setting <code>time.precision.mode</code> to <code>adaptive</code>, but you should only do so if you&#8217;re sure that you only ever will have values that fit into <code>int32</code>. This option is only kept for a transitioning period and will be removed in a future release.</p> </div> <div class="paragraph"> <p>Recently we got a <a href="https://issues.jboss.org/browse/DBZ-390">report</a> that MySQL&#8217;s binlog can contain <code>ROLLBACK</code> statements and thus transactions that are actually not committed. Of course no data change messages should be emitted in this situation. This e.g. can be the case when temporary tables are dropped. So we introduced a <a href="https://issues.jboss.org/browse/DBZ-406">look-ahead buffer</a> functionality that reads the binlog by transaction and excludes those that were rolled back. This feature should be considered incubating and is disabled by default for the time being. We&#8217;d like to gather your feedback on this, so if you&#8217;d benefit from this feature, please give it a try and let us know if you run into any issues. For further details please refer to the <code>binlog.buffer.size</code> setting in the MySQL connector docs.</p> </div> <div class="paragraph"> <p><a href="https://github.com/ainagy">Andras Istvan Nagy</a> came with the idea and <a href="https://issues.jboss.org/browse/DBZ-349">implemented</a> a way for explicitly selecting the rows from each table that will be part of the snapshotting process. This can for instance be very useful if you work with soft deletes and would like to exclude all logically deleted records from snapshotting.</p> </div> <div class="paragraph"> <p>Please see the <a href="/docs/releases/#release-0-7-0">full change log</a> for more details and the complete list of fixed issues.</p> </div> </div> </div> <div class="sect1"> <h2 id="what_s_next"><a class="anchor" href="#what_s_next"></a>What&#8217;s next?</h2> <div class="sectionbody"> <div class="paragraph"> <p>The Debezium 0.7.1 release is planned to be out roughly two weeks after Christmas.</p> </div> <div class="paragraph"> <p>It will contain a new SMT that will unwind MongoDB change events into a regular JSON consumable by sink connectors.</p> </div> <div class="paragraph"> <p>A big overhaul of <code>GEOMETRY</code> types is in progress. When completed, all <code>GEOMETRY</code> types will be supported by both MySQL and PostgreSQL connectors and they will be available in standard <code>WKB</code> format for easy consumption by polyglot clients.</p> </div> <div class="paragraph"> <p>There is ongoing work for the MySQL connector to allow dynamic update of <code>table.whitelist</code> option. This will allow the user to re-configure the set of tables captured without need to re-create connector.</p> </div> <div class="paragraph"> <p>If you&#8217;d like to contribute, please let us know. We&#8217;re happy about any help and will work with you to get you started quickly. Check out the details below on how to get in touch.</p> </div> </div> </div> <div class="sect1"> <h2 id="about_debezium"><a class="anchor" href="#about_debezium"></a>About Debezium</h2> <div class="sectionbody"> <div class="paragraph"> <p>Debezium is an open source distributed platform that turns your existing databases into event streams, so applications can see and respond almost instantly to each committed row-level change in the databases. Debezium is built on top of <a href="http://kafka.apache.org/">Kafka</a> and provides <a href="http://kafka.apache.org/documentation.html#connect">Kafka Connect</a> compatible connectors that monitor specific database management systems. Debezium records the history of data changes in Kafka logs, so your application can be stopped and restarted at any time and can easily consume all of the events it missed while it was not running, ensuring that all events are processed correctly and completely. Debezium is <a href="/license/">open source</a> under the <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, Version 2.0</a>.</p> </div> </div> </div> <div class="sect1"> <h2 id="get_involved"><a class="anchor" href="#get_involved"></a>Get involved</h2> <div class="sectionbody"> <div class="paragraph"> <p>We hope you find Debezium interesting and useful, and want to give it a try. Follow us on Twitter <a href="https://twitter.com/debezium">@debezium</a>, <a href="https://gitter.im/debezium/user">chat with us on Gitter</a>, or join our <a href="https://groups.google.com/forum/#!forum/debezium">mailing list</a> to talk with the community. All of the code is open source <a href="https://github.com/debezium/">on GitHub</a>, so build the code locally and help us improve ours existing connectors and add even more connectors. If you find problems or have ideas how we can improve Debezium, please let us know or <a href="https://issues.jboss.org/projects/DBZ/issues/">log an issue</a>.</p> </div> </div> </div> </div> <hr> <div class="post"> <h1 class="title"> <a href="/blog/2017/11/15/debezium-0-6-2-released/">Debezium 0.6.2 Is Released</a> </h1> <div class="byline"> <p> <em> November 15, 2017 by Jiri Pechanec </em> <em> under&nbsp; </em> <a class="label label-info" href="/blog/tags/releases/">releases</a> <a class="label label-info" href="/blog/tags/mysql/">mysql</a> <a class="label label-info" href="/blog/tags/mongodb/">mongodb</a> <a class="label label-info" href="/blog/tags/postgres/">postgres</a> <a class="label label-info" href="/blog/tags/docker/">docker</a> </p> </div> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>We are accelerating! Three weeks after the 0.6.1 release, the Debezium team is bringing <strong>Debezium 0.6.2</strong> to you!</p> </div> <div class="paragraph"> <p>This release revolves mostly around bug fixes, but there are a few new features, too. Let&#8217;s take a closer look at some of the changes.</p> </div> </div> </div> <div class="sect1"> <h2 id="postgresql_connector"><a class="anchor" href="#postgresql_connector"></a>PostgreSQL Connector</h2> <div class="sectionbody"> <div class="paragraph"> <p>The big news for the Postgres connector is that Debezium now runs against <a href="https://issues.jboss.org/projects/DBZ/issues/DBZ-424">PostgreSQL 10</a> thanks to a contribution from <a href="https://github.com/ScofieldXu">Scofield Xu</a>. As a part of this change we are providing a <a href="https://issues.jboss.org/projects/DBZ/issues/DBZ-426">Docker Image</a> with PostgreSQL 10, too, and we have set up a <a href="http://ci.hibernate.org/view/Debezium/job/debezium-postgresql-10-test/">daily run</a> of our integration tests against it.</p> </div> <div class="paragraph"> <p>If you are building Postgres yourself using the Debezium <a href="https://github.com/debezium/postgres-decoderbufs">logical decoding plug-in</a>, you can save quite some megabytes if you don&#8217;t need the PostGIS geometric extension: thanks to the work by <a href="https://github.com/QazerLab">Danila Kiver</a>, it&#8217;s now possible to omit that extension.</p> </div> </div> </div> <div class="sect1"> <h2 id="mysql_connector"><a class="anchor" href="#mysql_connector"></a>MySQL Connector</h2> <div class="sectionbody"> <div class="paragraph"> <p>We&#8217;ve received multiple reports related to parsing MySQL DDL statements, e.g. there were a few specific invocations of the <code>ALTER TABLE</code> statement which weren&#8217;t handled correctly. Those as well as a few other parser bugs have been fixed.</p> </div> <div class="paragraph"> <p>If you work with the <code>TIMESTAMP</code> column type and your Kafka Connect server isn&#8217;t using UTC as timezone, then the fix for <a href="https://issues.jboss.org/browse/DBZ-260">DBZ-260</a> is applying to you. In that case, the ISO 8601 formatted String emitted by Debezium would have, incorrectly, contained the UTC date and time plus the zone offset (as per the time zone the Kafka Connect server is located in) before. Whereas now it will contain the date and time adjusted to the zone offset. This may require adjustments to to downstream consumers if they were relying on the previous, incorrect behavior.</p> </div> <div class="paragraph"> <p><a href="https://issues.jboss.org/projects/DBZ/issues/DBZ-217">DBZ-217</a> gives you more flexibility for handling corrupt events encountered in the MySQL binlog. By default, the connector will stop at the problematic event in such case. But you now also have the option to just log the event and its position and continue the processing after it.</p> </div> <div class="paragraph"> <p>Another nice improvement for the MySQL connector is a much reduced CPU load after the snapshot has been completed, when using the "snapshot only" mode (<a href="https://issues.jboss.org/browse/DBZ-396">DBZ-396</a>).</p> </div> </div> </div> <div class="sect1"> <h2 id="mongodb_connector"><a class="anchor" href="#mongodb_connector"></a>MongoDB Connector</h2> <div class="sectionbody"> <div class="paragraph"> <p>This connector received an important fix applying when more than one thread is used to performing the initial snapshot (<a href="https://issues.jboss.org/browse/DBZ-438">DBZ-438</a>). Before, it could happen that single messages got lost during snapshotting which is fixed now.</p> </div> </div> </div> <div class="sect1"> <h2 id="examples_and_docker_images"><a class="anchor" href="#examples_and_docker_images"></a>Examples and Docker Images</h2> <div class="sectionbody"> <div class="paragraph"> <p>We have expanded our examples repository with <a href="https://github.com/debezium/debezium-examples/tree/master/tutorial#using-mysql-and-the-avro-message-format">an Avro example</a>, which may be interesting to you if you&#8217;d like to not work with JSON messages but rather the compact Avro binary format and the Confluent schema registry.</p> </div> <div class="paragraph"> <p>As a part of our release process we are now creating <a href="https://issues.jboss.org/projects/DBZ/issues/DBZ-418">micro tags</a> for our Docker images for every released version. While tags in the format <code>x.y.z</code> are fixed in time, tags in the format <code>x.y</code> are rolling updates and always point to the latest micro release of that image.</p> </div> <div class="paragraph"> <p>Please see the <a href="/docs/releases/#release-0-6-2">full change log</a> for more details and the complete list of fixed issues.</p> </div> </div> </div> <div class="sect1"> <h2 id="what_s_next"><a class="anchor" href="#what_s_next"></a>What&#8217;s next?</h2> <div class="sectionbody"> <div class="paragraph"> <p>The Debezium 0.7 release is planned to be out in two to three weeks from now.</p> </div> <div class="paragraph"> <p>It will contain the move to Apache Kafka 1.0.0 and bring support for the wal2json logical decoding plug-in for Postgres. This will eventually allow to use the Debezium Postgres connector on Amazon RDS (once the correct wal2json version is available there).</p> </div> <div class="paragraph"> <p>In parallel, the work around handling updates to the whitelist configuration of the MySQL connector continues (it may be ready for 0.7.0), and so does the work on the Oracle connector (which will be shipping in a future release).</p> </div> <div class="paragraph"> <p>If you&#8217;d like to contribute, please let us know. We&#8217;re happy about any help and will work with you to get you started quickly. Check out the details below on how to get in touch.</p> </div> </div> </div> <div class="sect1"> <h2 id="about_debezium"><a class="anchor" href="#about_debezium"></a>About Debezium</h2> <div class="sectionbody"> <div class="paragraph"> <p>Debezium is an open source distributed platform that turns your existing databases into event streams, so applications can see and respond almost instantly to each committed row-level change in the databases. Debezium is built on top of <a href="http://kafka.apache.org/">Kafka</a> and provides <a href="http://kafka.apache.org/documentation.html#connect">Kafka Connect</a> compatible connectors that monitor specific database management systems. Debezium records the history of data changes in Kafka logs, so your application can be stopped and restarted at any time and can easily consume all of the events it missed while it was not running, ensuring that all events are processed correctly and completely. Debezium is <a href="/license/">open source</a> under the <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, Version 2.0</a>.</p> </div> </div> </div> <div class="sect1"> <h2 id="get_involved"><a class="anchor" href="#get_involved"></a>Get involved</h2> <div class="sectionbody"> <div class="paragraph"> <p>We hope you find Debezium interesting and useful, and want to give it a try. Follow us on Twitter <a href="https://twitter.com/debezium">@debezium</a>, <a href="https://gitter.im/debezium/user">chat with us on Gitter</a>, or join our <a href="https://groups.google.com/forum/#!forum/debezium">mailing list</a> to talk with the community. All of the code is open source <a href="https://github.com/debezium/">on GitHub</a>, so build the code locally and help us improve ours existing connectors and add even more connectors. If you find problems or have ideas how we can improve Debezium, please let us know or <a href="https://issues.jboss.org/projects/DBZ/issues/">log an issue</a>.</p> </div> </div> </div> </div> <hr> <div class="post"> <h1 class="title"> <a href="/blog/2017/10/26/debezium-0-6-1-released/">Debezium 0.6.1 Is Released</a> </h1> <div class="byline"> <p> <em> October 26, 2017 by Gunnar Morling </em> <em> under&nbsp; </em> <a class="label label-info" href="/blog/tags/releases/">releases</a> <a class="label label-info" href="/blog/tags/mysql/">mysql</a> <a class="label label-info" href="/blog/tags/mongodb/">mongodb</a> <a class="label label-info" href="/blog/tags/postgres/">postgres</a> <a class="label label-info" href="/blog/tags/docker/">docker</a> </p> </div> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>Just shy of a month after the 0.6.0 release, I&#8217;m happy to announce the release of <strong>Debezium 0.6.1</strong>!</p> </div> <div class="paragraph"> <p>This release contains several bugfixes, dependency upgrades and a new option for controlling how <code>BIGINT UNSIGNED</code> columns are conveyed. We also expanded the set of Docker images and Docker Compose files accompanying <a href="/docs/tutorial/">our tutorial</a>, so you can run it now with all the databases we support.</p> </div> <div class="paragraph"> <p>Let&#8217;s take a closer look at some of the changes.</p> </div> </div> </div> <div class="sect1"> <h2 id="new_connector_option_for_controlling_bigint_unsigned_representation"><a class="anchor" href="#new_connector_option_for_controlling_bigint_unsigned_representation"></a>New connector option for controlling BIGINT UNSIGNED representation</h2> <div class="sectionbody"> <div class="paragraph"> <p><code>BIGINT UNSIGNED</code> columns from MySQL databases have been represented using Kafka Connect&#8217;s <code>Decimal</code> type until now. This type allows to represent all possible values of such columns, but its based on a byte array, so it can be a bit cumbersome to handle for consumers. Therefore we added a new option named <code>bigint.unsigned.handling.mode</code> to the MySQL connector that allows to represent such columns using <code>long</code>.</p> </div> <div class="paragraph"> <p>For the very most cases that&#8217;s the preferable option, only if your column contains values larger than 2^63 (which <a href="https://dev.mysql.com/doc/refman/5.7/en/numeric-type-overview.html">MySQL doesn&#8217;t recommend</a> due to potential value losses when performing calculations), you should stick to the <code>Decimal</code> representation.</p> </div> <div class="paragraph"> <p>Using <code>long</code> will be the default as of Debezium 0.7, for the 0.6.x timeline we decided to go with the previous behavior (i.e. using <code>Decimal</code>) for the sake of backwards compatibility.</p> </div> <div class="paragraph"> <p>Thanks a lot to <a href="https://github.com/vultron81">Ben Williams</a> who contributed this feature!</p> </div> </div> </div> <div class="sect1"> <h2 id="new_example_docker_images_and_docker_compose_files"><a class="anchor" href="#new_example_docker_images_and_docker_compose_files"></a>New example Docker images and Docker Compose files</h2> <div class="sectionbody"> <div class="paragraph"> <p>In the <a href="https://github.com/debezium/debezium-examples/">Debezium examples repository</a> we now provide <a href="https://github.com/debezium/debezium-examples/tree/master/tutorial">Docker Compose files</a> which let you run the tutorial with all the three databases we currently support, MySQL, Postgres and MongoDB.</p> </div> <div class="paragraph"> <p>Just choose the Compose file for your preferred database and get a all the required components (ZooKeeper, Apache Kafka, Kafka Connect and the database) running within a few seconds.</p> </div> <div class="paragraph"> <p>We&#8217;ve also deployed Docker images for Postgres and MongoDB to the <a href="https://hub.docker.com/u/debezium/">Debezium organization</a> on Docker Hub, so you got some data to play with.</p> </div> </div> </div> <div class="sect1"> <h2 id="version_upgrades"><a class="anchor" href="#version_upgrades"></a>Version upgrades</h2> <div class="sectionbody"> <div class="paragraph"> <p>We&#8217;ve upgraded our images from Kafka 0.11.0.0 to <a href="https://issues.apache.org/jira/projects/KAFKA/versions/12340632">0.11.0.1</a>. Also the <a href="https://github.com/shyiko/mysql-binlog-connector-java">binlog client library</a> used by the MySQL connector was upgraded from 0.9.0 to 0.13.0.</p> </div> </div> </div> <div class="sect1"> <h2 id="bugfixes"><a class="anchor" href="#bugfixes"></a>Bugfixes</h2> <div class="sectionbody"> <div class="paragraph"> <p>Finally, several bugs were fixed in 0.6.1. E.g. you can now name a column <code>column</code> in MySQL (<a href="https://issues.jboss.org/browse/DBZ-408">DBZ-408</a>), generated <code>DROP TEMP TABLE</code> statements won&#8217;t flood the DB history topic (<a href="https://issues.jboss.org/browse/DBZ-395">DBZ-295</a>) and we&#8217;ve fixed a case where the Postgres connector would stop working due to an internal error but fail to report though via the task/connector status (<a href="https://issues.jboss.org/browse/DBZ-380">DBZ-380</a>).</p> </div> <div class="paragraph"> <p>Please see the <a href="/docs/releases/#release-0-6-1">full change log</a> for more details and the complete list of fixed issues.</p> </div> </div> </div> <div class="sect1"> <h2 id="what_s_next"><a class="anchor" href="#what_s_next"></a>What&#8217;s next?</h2> <div class="sectionbody"> <div class="paragraph"> <p>The work on Debezium 0.7 has already begun and we&#8217;ve merged the first set of changes. You can expect to see support for using the <a href="https://github.com/eulerto/wal2json">wal2json</a> logical decoding plug-in with the Postgres connector, which will finally allow it to use Debezium with Postgres on Amazon RDS! We&#8217;ve also started our explorations of providing a connector for Oracle (<a href="https://issues.jboss.org/browse/DBZ-20">DBZ-20</a>) and hope to report some progress here soon.</p> </div> <div class="paragraph"> <p>While the work on Debezium 0.7 continues, you will likely continue to see one or more 0.6.x bugfix releases. We&#8217;ve automated the release process as much as possible, making it a breeze to ship a new release and getting fixes into your hands quickly.</p> </div> <div class="paragraph"> <p>If you&#8217;d like to contribute, please let us know. We&#8217;re happy about any help and will work with you to get you started quickly. Check out the details below on how to get in touch.</p> </div> </div> </div> <div class="sect1"> <h2 id="about_debezium"><a class="anchor" href="#about_debezium"></a>About Debezium</h2> <div class="sectionbody"> <div class="paragraph"> <p>Debezium is an open source distributed platform that turns your existing databases into event streams, so applications can see and respond almost instantly to each committed row-level change in the databases. Debezium is built on top of <a href="http://kafka.apache.org/">Kafka</a> and provides <a href="http://kafka.apache.org/documentation.html#connect">Kafka Connect</a> compatible connectors that monitor specific database management systems. Debezium records the history of data changes in Kafka logs, so your application can be stopped and restarted at any time and can easily consume all of the events it missed while it was not running, ensuring that all events are processed correctly and completely. Debezium is <a href="/license/">open source</a> under the <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, Version 2.0</a>.</p> </div> </div> </div> <div class="sect1"> <h2 id="get_involved"><a class="anchor" href="#get_involved"></a>Get involved</h2> <div class="sectionbody"> <div class="paragraph"> <p>We hope you find Debezium interesting and useful, and want to give it a try. Follow us on Twitter <a href="https://twitter.com/debezium">@debezium</a>, <a href="https://gitter.im/debezium/user">chat with us on Gitter</a>, or join our <a href="https://groups.google.com/forum/#!forum/debezium">mailing list</a> to talk with the community. All of the code is open source <a href="https://github.com/debezium/">on GitHub</a>, so build the code locally and help us improve ours existing connectors and add even more connectors. If you find problems or have ideas how we can improve Debezium, please let us know or <a href="https://issues.jboss.org/projects/DBZ/issues/">log an issue</a>.</p> </div> </div> </div> </div> <hr> <ul class="pager"> <li class="previous"> <a href="/blog/tags/postgres/page/5/">&laquo; Older</a> </li> <li class="pages">Page 4 of 6</li> <li class="next"> <a href="/blog/tags/postgres/page/3/">Newer &raquo;</a> </li> </ul> </div> </div> </div> </div> <footer class="container"> <div class="row"> <div class="col-md-5 col-md-offset-1"> <h4>Debezium</h4> <p> &#169; 2019 Debezium Community <br> <br> <i class="icon-fire"></i> Mixed with <a href="http://twitter.github.com/bootstrap">Bootstrap</a>, baked by <a href="http://awestruct.org">Awestruct</a>. <br> <i class="icon-flag"></i> Website and docs licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>. <br> <i class="icon-flag-alt"></i> Code released under <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, v2.0</a>. <br> <i class="icon-file-alt"></i> <a href="https://www.redhat.com/legal/legal_statement.html" title="Terms">Terms</a> | <a href="https://www.redhat.com/legal/privacy_statement.html" title="Privacy Policy">Privacy</a> </p> </div> <div class="col-md-3"> <h4>Documentation</h4> <ul class="list-unstyled"> <li> <a href="/docs/features/" title="Features">Features</a> </li> <li> <a href="/docs/install/" title="Install">Install</a> </li> <li> <a href="/docs/manage/" title="Manage">Manage</a> </li> <li> <a href="/docs/architecture/" title="Architecture">Architecture</a> </li> <li> <a href="/docs/faq/" title="FAQ">FAQ</a> </li> <li> <a href="/docs/contribute/" title="Contribute">Contribute</a> </li> </ul> </div> <div class="col-md-3"> <h4>Connect</h4> <ul class="list-unstyled"> <li> <a href="/blog" title="Blog">Blog</a> </li> <li> <a href="http://twitter.com/debezium" title="Twitter">Twitter</a> </li> <li> <a href="http://github.com/debezium" title="GitHub">GitHub</a> </li> <li> <a href="https://gitter.im/debezium/dev" title="Chat">Chat</a> </li> <li> <a href="https://groups.google.com/forum/#!forum/debezium" title="Google Groups">Google Groups</a> </li> <li> <a href="http://stackoverflow.com/questions/tagged/debezium" title="StackOverflow">StackOverflow</a> </li> </ul> </div> </div> </footer> <div class="container" id="companyfooter"> <div class="redhatlogo"> <div id="logospacer"></div> <a href="https://www.redhat.com/"><img src="https://static.jboss.org/theme/images/common/redhat_logo.png"></a> </div> </div> <span class="backToTop"> <a href="#top">back to top</a> </span> <script src="https://static.jboss.org/theme/js/libs/bootstrap-community/3.2.0.2/bootstrap-community.min.js"></script> <script type='text/javascript' language='JavaScript' src='https://www.redhat.com/j/elqNow/elqCfg.js'></script> <script type='text/javascript' language='JavaScript' src='https://www.redhat.com/j/elqNow/elqImg.js'></script> <div id="oTags"> <script type="text/javascript" src="//www.redhat.com/j/s_code.js"></script> <script type="text/javascript"><!--
        var coreUrl = encodeURI(document.URL.split("?")[0]).replace(/-/g," ");
        var urlSplit = coreUrl.toLowerCase().split(/\//);
        var urlLast = urlSplit[urlSplit.length-1];
        var pageNameString = "";
        var siteName = "";
        var minorSectionIndex = 3
        if (urlLast == "") {
            urlSplit.splice(-1,1);
        }
        if (urlLast.search(/\./) >= 0) {
            if (urlLast == "index.html") {
                urlSplit.splice(-1,1);
            }
            else {
                urlSplit[urlSplit.length-1] = urlLast.split(".").splice(0,1);
            }
        }
        siteName = urlSplit[2].split(".")[1];
        s.prop14 = s.eVar27 = siteName || "";
        s.prop15 = s.eVar28 = urlSplit[minorSectionIndex] || "";
        s.prop16 = s.eVar29 = urlSplit[minorSectionIndex+1] || "";
        pageNameString = urlSplit.splice(3).join(" | ");
        s.pageName = "jboss | community | " + siteName + " | " + pageNameString;
        s.server = "jboss";
        s.channel = "jboss | community";
        s.prop4 = s.eVar23 = encodeURI(document.URL);
        s.prop21 = s.eVar18 = coreUrl;
        s.prop2 = s.eVar22 = "en";
        s.prop3 = s.eVar19 = "us";
        //--></script> <script type="text/javascript" src="//www.redhat.com/j/rh_omni_footer.js"></script> <script language="JavaScript" type="text/javascript"><!--
        if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
        //--></script> <noscript><a href="http://www.omniture.com" title="Web Analytics"><img src="https://smtrcs.redhat.com/b/ss/redhatcom,redhatglobal/1/H.25.4--NS/0?[AQB]&cdp=3&[AQE]" height="1" width="1" border="0" alt=""/></a></noscript> </div> <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
      </script> <script type="text/javascript">
      try {
      var pageTracker = _gat._getTracker("UA-10656779-1");
      pageTracker._trackPageview();
      } catch(err) {}</script> <script>
       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
       
      ga('create', 'UA-76464546-1', 'auto');
      ga('send', 'pageview');
      ga('set', 'anonymizeIp', true);
      ga('require', 'linkid', 'linkid.js');
      
      </script> </div> </body> </html>