<!DOCTYPE html> <html lang="en"> <head> <title>Debezium 0.7.0 Is Released</title> <meta charset="utf-8"> <meta content="width=device-width, initial-scale=1.0" name="viewport"> <meta content="" name="description"> <meta content="" name="author"> <link href="http://static.jboss.org/theme/css/bootstrap-community/3.2.0.1/bootstrap-community.min.css" media="screen" rel="stylesheet"> <!--[if lt IE 9]><script src="http://static.jboss.org/theme/js/libs/html5/pre3.6/html5.min.js"></script><![endif]--> <link href="http://static.jboss.org/example/images/favicon.ico" rel="shortcut icon"> <link href="http://static.jboss.org/example/images/apple-touch-icon-144x144-precomposed.png" rel="apple-touch-icon-precomposed" sizes="144x144"> <link href="http://static.jboss.org/example/images/apple-touch-icon-114x114-precomposed.png" rel="apple-touch-icon-precomposed" sizes="114x114"> <link href="http://static.jboss.org/example/images/apple-touch-icon-72x72-precomposed.png" rel="apple-touch-icon-precomposed" sizes="72x72"> <link href="http://static.jboss.org/example/images/apple-touch-icon-precomposed.png" rel="apple-touch-icon-precomposed"> <link href="/stylesheets/debezium.css" rel="stylesheet" type="text/css"> <style>
      @media (min-width: 980px) {
        .banner { background-image: url(http://static.jboss.org/example/images/debezium-banner-1180px.png); height: 110px;  }
      }
      @media (max-width: 979px) {
        .banner { background-image: url(http://static.jboss.org/example/images/debezium-logo.png); background-repeat:no-repeat; background-position: center bottom; height: 60px; }
      }
      @media (max-width: 650px) {
        .banner { width: 100%; margin: 0px auto; }
      }
      @media (max-width: 450px) {
        .banner { height: 90px; }
      }
    </style> <link href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/default.min.css" rel="stylesheet"> <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script> <script>
      hljs.initHighlightingOnLoad();
    </script> <script src="http://static.jboss.org/theme/js/libs/jquery/jquery-1.9.1.min.js"></script> <style>
      /* adjusting the vertical spacing for when a stickynav is engaged */
      .breadcrumb-fixed > .active {
        color: #8c8f91;
      }
      .breadcrumb-fixed {
        margin: 70px 0 10px;
        padding: 8px 15px;
        margin-bottom: 20px;
        list-style: none;
        background-color: #f5f5f5;
        border-radius: 4px;
      }
      
      .breadcrumb-fixed > li {
        display: inline-block;
      }
    </style> </head> <body> <div id="rhbar"> <a class="jbdevlogo" href="http://www.jboss.org/projects/about"></a> <a class="rhlogo" href="http://www.redhat.com/"></a> </div> <div id=""> <ul class="visuallyhidden" id="top"> <li> <a accesskey="n" href="#nav" title="Skip to navigation">Skip to navigation</a> </li> <li> <a accesskey="c" href="#page" title="Skip to content">Skip to content</a> </li> </ul> <div class="container" id="content"> <div class="navbar navbar-inverse navbar-fix"> <div class="container-fluid"> <div class="navbar-header"> <button class="navbar-toggle collapsed" data-target="#navbar-1" data-toggle="collapse"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="/"> Debezium </a> </div> <div class="collapse navbar-collapse" id="navbar-1"> <ul class="nav navbar-nav pull-right"> <li class=""><a href="/docs/faq">FAQ</a></li> <li class=""><a href="/docs">DOCS</a></li> <li class=""><a href="/community">COMMUNITY</a></li> <li class="active"><a href="/blog">BLOG</a></li> </ul> </div> </div> </div> <div id="equalHeightsLayout"> <div class="row row-no-expand"> <div class="hidden-xs col-sm-3 no-right-padding" id="leftdocnav"> <div class="panel-docnav"> <div class="panel-heading"> <h3 class="panel-title"> Latest posts </h3> </div> <div class="panel-body"> <ul class="list-group"> <li class="list-group-item"> <a href="/blog/2018/07/04/debezium-0-8-0-cr1-released/" rel="tooltip" title="Click to go to post">Debezium 0.8.0.CR1 Is Released</a> </li> <li class="list-group-item"> <a href="/blog/2018/06/21/debezium-0-8-0-beta1-released/" rel="tooltip" title="Click to go to post">Debezium 0.8.0.Beta1 Is Released</a> </li> <li class="list-group-item"> <a href="/blog/2018/05/24/querying-debezium-change-data-eEvents-with-ksql/" rel="tooltip" title="Click to go to post">Querying Debezium Change Data Events With KSQL</a> </li> <li class="list-group-item"> <a href="/blog/2018/03/20/debezium-0-7-5-released/" rel="tooltip" title="Click to go to post">Debezium 0.7.5 Is Released</a> </li> <li class="list-group-item"> <a href="/blog/2018/03/16/note-on-database-history-topic-configuration/" rel="tooltip" title="Click to go to post">A Note On Database History Topic Configuration</a> </li> <li class="list-group-item"> <a href="/blog/2018/03/08/creating-ddd-aggregates-with-debezium-and-kafka-streams/" rel="tooltip" title="Click to go to post">Creating DDD aggregates with Debezium and Kafka Streams</a> </li> <li class="list-group-item"> <a href="/blog/2018/03/07/debezium-0-7-4-released/" rel="tooltip" title="Click to go to post">Debezium 0.7.4 Is Released</a> </li> <li class="list-group-item"> <a href="/blog/2018/02/15/debezium-0-7-3-released/" rel="tooltip" title="Click to go to post">Debezium 0.7.3 Is Released</a> </li> </ul> </div> </div> </div> <div class="col-xs-12 col-sm-9 post-text-padding" id="maincol"> <div class="text-right"> <h3> Subscribe <a class="rss" href="/blog.atom"> <i class="icon-rss"></i> </a> </h3> </div> <div class="post"> <h1 class="title"> <a href="/blog/2017/12/15/debezium-0-7-0-released/">Debezium 0.7.0 Is Released</a> </h1> <div class="byline"> <p> <em> December 15, 2017 by Jiri Pechanec </em> <em> under&nbsp; </em> <a class="label label-info" href="/blog/tags/releases/">releases</a> <a class="label label-info" href="/blog/tags/mysql/">mysql</a> <a class="label label-info" href="/blog/tags/mongodb/">mongodb</a> <a class="label label-info" href="/blog/tags/postgres/">postgres</a> <a class="label label-info" href="/blog/tags/docker/">docker</a> </p> </div> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p>It&#8217;s not Christmas yet, but we already got a present for you: Debezium <strong>0.7.0</strong> is here, full of new features as well as many bug fixes! A big thank you goes out to all the community members who contributed to this release. It is very encouraging for us to see not only more and more issues and feature requests being reported, but also pull requests coming in.</p> </div> <div class="paragraph"> <p>Note that this release comes with a small number of changes to the default mappings for some data types. We try to avoid this sort of changes as far as possible, but in some cases it is required, e.g. if the previous mapping could have caused potential value losses. Please see below for the details and also make sure to check out the <a href="/docs/releases/#release-0-7-0">full change log</a> which describes these changes in detail.</p> </div> <div class="paragraph"> <p>Now let&#8217;s take a closer look at some of new features.</p> </div> </div> </div> <div class="sect1"> <h2 id="based_on_apache_kafka_1_0"><a class="anchor" href="#based_on_apache_kafka_1_0"></a>Based on Apache Kafka 1.0</h2> <div class="sectionbody"> <div class="paragraph"> <p>A few weeks ago the Apache Kafka team has <a href="https://www.confluent.io/blog/apache-kafka-goes-1-0/">released version 1.0.0</a>. This was an important milestone for the Kafka community, and we now can happily declare that Debezium is <a href="https://issues.jboss.org/browse/DBZ-432">built</a> against and runs on that Apache Kafka version. Our Docker images were also <a href="https://issues.jboss.org/browse/DBZ-433">promoted</a> to contain Apache Kafka and Kafka Connect 1.0.0.</p> </div> </div> </div> <div class="sect1"> <h2 id="postgresql_connector"><a class="anchor" href="#postgresql_connector"></a>PostgreSQL Connector</h2> <div class="sectionbody"> <div class="paragraph"> <p>The big news for the PostgreSQL connector is that it now <a href="https://issues.jboss.org/browse/DBZ-258">supports</a> the <a href="https://github.com/eulerto/wal2json">wal2json</a> logical decoding plugin as an alternative to the existing <a href="https://github.com/debezium/postgres-decoderbufs">DecoderBufs plug-in</a>. This means that you now can use Debezium to stream changes out of PostgreSQL on <a href="https://aws.amazon.com/rds/postgresql/">Amazon RDS</a>, as wal2json is the logical decoding plugin used in this environment. Many thanks to <a href="https://github.com/rcoup">Robert Coup</a> who significantly contributed to this feature.</p> </div> <div class="paragraph"> <p>Working on this plug-in, we noticed that there was a <a href="https://issues.jboss.org/browse/DBZ-379">potential race condition</a> when it comes to applying changes to the schema of captured tables. In that case it could have happened that a number of messages pertaining to data changes done before the schema change were emitted using the new schema. With the exception of a few corner cases (which are described <a href="/docs/releases/#release-0-7-0">here</a>), this has been addressed when using Debezium&#8217;s own DecoderBufs plug-in. So it&#8217;s highly recommended to upgrade the DecoderBufs plug-in to the new version before upgrading the Debezium connector. We&#8217;ve also worked closely with the author of the wal2json plug-in (big thanks for the quick help!) to prevent the issue when using the wal2json plug-in.</p> </div> <div class="paragraph"> <p>While the Debezium Docker images for Postgres already come with the latest version of DecoderBufs and wal2json, RDS for now is still using an older version of wal2json. Until this has been updated, special attention must be paid when applying schema changes to captured tables. Please see <a href="/docs/releases/#release-0-7-0">the changelog</a> for a in-depth description of this issue and ways to mitigate it.</p> </div> <div class="paragraph"> <p>There are new daily running <a href="https://issues.jboss.org/browse/DBZ-495">CI jobs</a> that verify that the wal2json plugin passes our test suite. For the foreseeable future we&#8217;ll support both, wal2json as well as the existing DecoderBufs plug-in. The latter should be more efficient due to the usage of the Protocol Buffers binary format, whereas the former comes in handy for RDS or other cloud environments where you don&#8217;t have control over the installed logical decoding plug-ins, but wal2json is available.</p> </div> <div class="paragraph"> <p>In other news on the Postgres connector, <a href="https://github.com/jchipmunk">Andrey Pustovetov</a> discovered and proposed a fix for a <a href="https://issues.jboss.org/browse/DBZ-501">multi-threading bug</a> that could have put the connector into an undefined state if a rebalance in the Connect cluster was triggered during snapshotting. Thanks, Andrey!</p> </div> </div> </div> <div class="sect1"> <h2 id="mysql_connector"><a class="anchor" href="#mysql_connector"></a>MySQL Connector</h2> <div class="sectionbody"> <div class="paragraph"> <p>In the MySQL connector we&#8217;ve fixed two issues which affect the default mapping of certain column types.</p> </div> <div class="paragraph"> <p>Following up to the new <code>BIGINT UNSIGNED</code> mapping introduced in <a href="/blog/2017/10/26/debezium-0-6-1-released/">Debezium 0.6.1</a>, this type is now encoded as <code>int64</code> in Debezium messages <a href="https://issues.jboss.org/browse/DBZ-461">by default</a> as it is easier for (polyglot) clients to work with. This is a reasonable mapping for the vast majority of cases. Only when using values &gt; 2^63, you should switch it back to the <code>Decimal</code> logical type which is a bit more cumbersome to handle, though. This should be a rare situation, as MySQL <a href="https://dev.mysql.com/doc/refman/5.7/en/numeric-type-overview.html">advices against</a> using unsigned values &gt; 2^63 due to potential value losses when performing DB-side calculations. Please see the <a href="/docs/connectors/mysql/">connector documentation</a> for the details.</p> </div> <div class="paragraph"> <p><a href="https://github.com/rk3rn3r">Rene Kerner</a> has improved the support for the MySQL <code>TIME</code> type. MySQL allows to store values larger than <code>23:59:59</code> in such columns, and the type <code>int32</code> which was previously used for <code>TIME(0-3)</code> columns isn&#8217;t enough to convey the entire possible value range. Therefore all <code>TIME</code> columns in MySQL are by default represented as <code>int64</code> now, using the <code>io.debezium.time.MicroTime</code> logical type, i.e. the value represents micro-seconds. If needed, you can switch to the previous mapping by setting <code>time.precision.mode</code> to <code>adaptive</code>, but you should only do so if you&#8217;re sure that you only ever will have values that fit into <code>int32</code>. This option is only kept for a transitioning period and will be removed in a future release.</p> </div> <div class="paragraph"> <p>Recently we got a <a href="https://issues.jboss.org/browse/DBZ-390">report</a> that MySQL&#8217;s binlog can contain <code>ROLLBACK</code> statements and thus transactions that are actually not committed. Of course no data change messages should be emitted in this situation. This e.g. can be the case when temporary tables are dropped. So we introduced a <a href="https://issues.jboss.org/browse/DBZ-406">look-ahead buffer</a> functionality that reads the binlog by transaction and excludes those that were rolled back. This feature should be considered incubating and is disabled by default for the time being. We&#8217;d like to gather your feedback on this, so if you&#8217;d benefit from this feature, please give it a try and let us know if you run into any issues. For further details please refer to the <code>binlog.buffer.size</code> setting in the MySQL connector docs.</p> </div> <div class="paragraph"> <p><a href="https://github.com/ainagy">Andras Istvan Nagy</a> came with the idea and <a href="https://issues.jboss.org/browse/DBZ-349">implemented</a> a way for explicitly selecting the rows from each table that will be part of the snapshotting process. This can for instance be very useful if you work with soft deletes and would like to exclude all logically deleted records from snapshotting.</p> </div> <div class="paragraph"> <p>Please see the <a href="/docs/releases/#release-0-7-0">full change log</a> for more details and the complete list of fixed issues.</p> </div> </div> </div> <div class="sect1"> <h2 id="what_s_next"><a class="anchor" href="#what_s_next"></a>What&#8217;s next?</h2> <div class="sectionbody"> <div class="paragraph"> <p>The Debezium 0.7.1 release is planned to be out roughly two weeks after Christmas.</p> </div> <div class="paragraph"> <p>It will contain a new SMT that will unwind MongoDB change events into a regular JSON consumable by sink connectors.</p> </div> <div class="paragraph"> <p>A big overhaul of <code>GEOMETRY</code> types is in progress. When completed, all <code>GEOMETRY</code> types will be supported by both MySQL and PostgreSQL connectors and they will be available in standard <code>WKB</code> format for easy consumption by polyglot clients.</p> </div> <div class="paragraph"> <p>There is ongoing work for the MySQL connector to allow dynamic update of <code>table.whitelist</code> option. This will allow the user to re-configure the set of tables captured without need to re-create connector.</p> </div> <div class="paragraph"> <p>If you&#8217;d like to contribute, please let us know. We&#8217;re happy about any help and will work with you to get you started quickly. Check out the details below on how to get in touch.</p> </div> </div> </div> <div class="sect1"> <h2 id="about_debezium"><a class="anchor" href="#about_debezium"></a>About Debezium</h2> <div class="sectionbody"> <div class="paragraph"> <p>Debezium is an open source distributed platform that turns your existing databases into event streams, so applications can see and respond almost instantly to each committed row-level change in the databases. Debezium is built on top of <a href="http://kafka.apache.org/">Kafka</a> and provides <a href="http://kafka.apache.org/documentation.html#connect">Kafka Connect</a> compatible connectors that monitor specific database management systems. Debezium records the history of data changes in Kafka logs, so your application can be stopped and restarted at any time and can easily consume all of the events it missed while it was not running, ensuring that all events are processed correctly and completely. Debezium is <a href="/license">open source</a> under the <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, Version 2.0</a>.</p> </div> </div> </div> <div class="sect1"> <h2 id="get_involved"><a class="anchor" href="#get_involved"></a>Get involved</h2> <div class="sectionbody"> <div class="paragraph"> <p>We hope you find Debezium interesting and useful, and want to give it a try. Follow us on Twitter <a href="https://twitter.com/debezium">@debezium</a>, <a href="https://gitter.im/debezium/user">chat with us on Gitter</a>, or join our <a href="https://groups.google.com/forum/#!forum/debezium">mailing list</a> to talk with the community. All of the code is open source <a href="https://github.com/debezium/">on GitHub</a>, so build the code locally and help us improve ours existing connectors and add even more connectors. If you find problems or have ideas how we can improve Debezium, please let us know or <a href="https://issues.jboss.org/projects/DBZ/issues/">log an issue</a>.</p> </div> </div> </div> </div> <div class="well"> <div class="row"> <div class="col-md-8"> <h2>Jiri Pechanec</h2> <p> <span class="bio-size">Jiri is a software developer (and a former quality engineer) at Red Hat. He spent most of his career with Java and system integration projects and tasks. He lives near Brno, Czech Republic.</span> </p> <p class="bio-size"> <a href="https://github.com/jpechane"> <i class="icon-github"></i> </a> &nbsp; <a href="https://www.linkedin.com/in/jiripechanec"> <i class="icon-linkedin"></i> </a> &nbsp; </p> </div> <div class="col-md-4"> <img alt="" class="img-responsive pull-right portrait" src="/images/jpechane.jpg"> </div> </div> </div> <div class="comments"> <div id="disqus_thread"></div> <script type="text/javascript">
                            var disqus_shortname = 'Debezium';
                            var disqus_url = "http://debezium.io/blog/2017/12/15/debezium-0-7-0-released/";
                            var disqus_developer = null;
                            var disqus_identifier = null;
                            (function() {
                              var dsq = document.createElement("script"); dsq.type = "text/javascript"; dsq.async = true;
                              dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                              (document.getElementsByTagName("head")[0] || document.getElementsByTagName("body")[0]).appendChild(dsq);
                            })();
                            </script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=Debezium">comments powered by Disqus.</a></noscript> </div> </div> </div> </div> </div> <footer class="container"> <div class="row"> <div class="col-md-5 col-md-offset-1"> <h4>Debezium</h4> <p> &#169; 2018 Debezium Community <br> <br> <i class="icon-fire"></i> Mixed with <a href="http://twitter.github.com/bootstrap">Bootstrap</a>, baked by <a href="http://awestruct.org">Awestruct</a>. <br> <i class="icon-flag"></i> Website and docs licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>. <br> <i class="icon-flag-alt"></i> Code released under <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, v2.0</a>. <br> <i class="icon-file-alt"></i> <a href="http://www.redhat.com/legal/legal_statement.html" title="Terms">Terms</a> | <a href="http://www.redhat.com/legal/privacy_statement.html" title="Privacy Policy">Privacy</a> </p> </div> <div class="col-md-3"> <h4>Documentation</h4> <ul class="list-unstyled"> <li> <a href="/docs/features" title="Features">Features</a> </li> <li> <a href="/docs/install" title="Install">Install</a> </li> <li> <a href="/docs/manage" title="Manage">Manage</a> </li> <li> <a href="/docs/architecture" title="Architecture">Architecture</a> </li> <li> <a href="/docs/faq" title="FAQ">FAQ</a> </li> <li> <a href="/docs/contribute" title="Contribute">Contribute</a> </li> </ul> </div> <div class="col-md-3"> <h4>Connect</h4> <ul class="list-unstyled"> <li> <a href="/blog" title="Blog">Blog</a> </li> <li> <a href="http://twitter.com/debezium" title="Twitter">Twitter</a> </li> <li> <a href="http://github.com/debezium" title="GitHub">GitHub</a> </li> <li> <a href="https://gitter.im/debezium/dev" title="Chat">Chat</a> </li> <li> <a href="https://groups.google.com/forum/#!forum/debezium" title="Google Groups">Google Groups</a> </li> <li> <a href="http://stackoverflow.com/questions/tagged/debezium" title="StackOverflow">StackOverflow</a> </li> </ul> </div> </div> </footer> <div class="container" id="companyfooter"> <div class="redhatlogo"> <div id="logospacer"></div> <a href="http://www.redhat.com/"><img src="http://static.jboss.org/theme/images/common/redhat_logo.png"></a> </div> </div> <span class="backToTop"> <a href="#top">back to top</a> </span> <script src="http://static.jboss.org/theme/js/libs/bootstrap-community/3.2.0.1/bootstrap-community.min.js"></script> <script type='text/javascript' language='JavaScript' src='http://www.redhat.com/j/elqNow/elqCfg.js'></script> <script type='text/javascript' language='JavaScript' src='http://www.redhat.com/j/elqNow/elqImg.js'></script> <div id="oTags"> <script type="text/javascript" src="//www.redhat.com/j/s_code.js"></script> <script type="text/javascript"><!--
        var coreUrl = encodeURI(document.URL.split("?")[0]).replace(/-/g," ");
        var urlSplit = coreUrl.toLowerCase().split(/\//);
        var urlLast = urlSplit[urlSplit.length-1];
        var pageNameString = "";
        var siteName = "";
        var minorSectionIndex = 3
        if (urlLast == "") {
            urlSplit.splice(-1,1);
        }
        if (urlLast.search(/\./) >= 0) {
            if (urlLast == "index.html") {
                urlSplit.splice(-1,1);
            }
            else {
                urlSplit[urlSplit.length-1] = urlLast.split(".").splice(0,1);
            }
        }
        siteName = urlSplit[2].split(".")[1];
        s.prop14 = s.eVar27 = siteName || "";
        s.prop15 = s.eVar28 = urlSplit[minorSectionIndex] || "";
        s.prop16 = s.eVar29 = urlSplit[minorSectionIndex+1] || "";
        pageNameString = urlSplit.splice(3).join(" | ");
        s.pageName = "jboss | community | " + siteName + " | " + pageNameString;
        s.server = "jboss";
        s.channel = "jboss | community";
        s.prop4 = s.eVar23 = encodeURI(document.URL);
        s.prop21 = s.eVar18 = coreUrl;
        s.prop2 = s.eVar22 = "en";
        s.prop3 = s.eVar19 = "us";
        //--></script> <script type="text/javascript" src="//www.redhat.com/j/rh_omni_footer.js"></script> <script language="JavaScript" type="text/javascript"><!--
        if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
        //--></script> <noscript><a href="http://www.omniture.com" title="Web Analytics"><img src="https://smtrcs.redhat.com/b/ss/redhatcom,redhatglobal/1/H.25.4--NS/0?[AQB]&cdp=3&[AQE]" height="1" width="1" border="0" alt=""/></a></noscript> </div> <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
      </script> <script type="text/javascript">
      try {
      var pageTracker = _gat._getTracker("UA-10656779-1");
      pageTracker._trackPageview();
      } catch(err) {}</script> <script>
       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
       
      ga('create', 'UA-76464546-1', 'auto');
      ga('send', 'pageview');
      ga('set', 'anonymizeIp', true);
      ga('require', 'linkid', 'linkid.js');
      
      </script> </div> </body> </html>